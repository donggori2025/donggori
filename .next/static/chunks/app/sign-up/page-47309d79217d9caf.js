(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[884],{1469:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return i},getImageProps:function(){return c}});let a=s(8229),r=s(8883),l=s(3063),n=a._(s(1193));function c(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let i=l.Image},1491:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),r=s(2115),l=s(4385),n=s(6874),c=s.n(n),i=s(1976),d=s(5695);function o(){let[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)(!1),[o,u]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[h,g]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1),[p,y]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!1),[N,w]=(0,r.useState)(""),[k,S]=(0,r.useState)(!1),[C,_]=(0,r.useState)(!1),[P,E]=(0,r.useState)(""),[I,O]=(0,r.useState)(0),[q,R]=(0,r.useState)(!1),A=(0,r.useRef)(null),{signUp:L,setActive:V}=(0,i.yC)(),z=(0,d.useRouter)();(0,r.useEffect)(()=>{f&&p&&v?g(!0):g(!1)},[f,p,v]);let G=e=>{g(e),b(e),y(e),j(e)},D=()=>{O(180),R(!1),A.current&&clearInterval(A.current),A.current=setInterval(()=>{O(e=>e<=1?(clearInterval(A.current),R(!0),0):e-1)},1e3)};(0,r.useEffect)(()=>()=>{A.current&&clearInterval(A.current)},[]);let M=async()=>{if(w(""),!e)return void w("이메일을 입력해주세요.");S(!0);try{await (null==L?void 0:L.create({emailAddress:e,password:o||"TempPassword!1"})),await (null==L?void 0:L.prepareEmailAddressVerification({strategy:"email_code"})),_(!0),E(""),D()}catch(e){w(e instanceof Error?e.message:"이메일 인증 요청 중 오류가 발생했습니다.")}finally{S(!1)}},T=async()=>{w(""),S(!0);try{await (null==L?void 0:L.prepareEmailAddressVerification({strategy:"email_code"})),E(""),D()}catch(e){w(e instanceof Error?e.message:"인증번호 재요청 중 오류가 발생했습니다.")}finally{S(!1)}},F=async()=>{w(""),S(!0);try{let e=await (null==L?void 0:L.attemptEmailAddressVerification({code:P}));(null==e?void 0:e.status)==="complete"?(n(!0),w(""),A.current&&clearInterval(A.current)):w("인증 코드가 올바르지 않습니다.")}catch(e){w(e instanceof Error?e.message:"이메일 인증 중 오류가 발생했습니다.")}finally{S(!1)}},B=async t=>{if(t.preventDefault(),w(""),!e)return w("이메일을 입력해주세요.");if(!s)return w("이메일 인증을 완료해주세요.");if(!o)return w("비밀번호를 입력해주세요.");if(o.length<6)return w("비밀번호는 6자 이상이어야 합니다.");if(o!==m)return w("비밀번호가 일치하지 않습니다.");if(!f||!p)return w("필수 약관에 동의해주세요.");S(!0);try{if(!L||!L.createdSessionId){w(""),S(!0),setTimeout(()=>window.location.replace("/"),2500);return}await V({session:L.createdSessionId}),z.push("/")}catch(e){w(e instanceof Error?e.message:"예상치 못한 오류가 발생했습니다. 새로고침 후 다시 시도해주세요.")}finally{S(!1)}},H=e=>{alert("".concat(e," 소셜 로그인 연동 예정"))};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[(0,a.jsxs)("div",{className:"mb-8 flex flex-col items-center",children:[(0,a.jsx)(l.default,{src:"/logo_0624.svg",alt:"동고리 로고",width:80,height:80,className:"mb-2"}),(0,a.jsxs)("h1",{className:"text-4xl font-extrabold tracking-tight mb-2",children:["DONG",(0,a.jsx)("span",{className:"text-black",children:"GORI"})]}),(0,a.jsx)("div",{className:"text-lg font-semibold text-gray-700 mb-1",children:"봉제공장이 필요한 순간, 동고리"}),(0,a.jsxs)("div",{className:"text-gray-500 text-sm",children:["아직 회원 아니신가요? ",(0,a.jsx)(c(),{href:"/sign-up",className:"text-blue-500 font-semibold",children:"회원가입"})]})]}),(0,a.jsxs)("form",{onSubmit:B,className:"w-full max-w-md bg-white rounded-xl shadow p-8 flex flex-col gap-4",children:[(0,a.jsx)("div",{id:"clerk-captcha",className:"mb-2"}),(0,a.jsx)("label",{className:"text-sm font-semibold",children:"이메일"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"email",placeholder:"이메일을 입력해주세요.",value:e,onChange:e=>t(e.target.value),required:!0,className:"border rounded px-3 py-2 flex-1",disabled:s}),!s&&!C&&(0,a.jsx)("button",{type:"button",onClick:M,className:"px-4 py-2 bg-gray-200 rounded text-sm font-semibold hover:bg-gray-300",disabled:k,children:"이메일 인증"}),C&&!s&&(0,a.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded text-sm font-semibold",disabled:!0,children:"인증코드 발송됨"}),s&&(0,a.jsx)("span",{className:"px-4 py-2 bg-green-100 text-green-700 rounded text-sm font-semibold",children:"인증완료"})]}),C&&!s&&(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("input",{type:"text",placeholder:"인증코드 입력",value:P,onChange:e=>E(e.target.value),className:"border rounded px-3 py-2 flex-1"}),(0,a.jsx)("button",{type:"button",onClick:F,className:"px-4 py-2 bg-blue-500 text-white rounded text-sm font-semibold hover:bg-blue-600",disabled:k,children:"인증 확인"}),q?(0,a.jsx)("button",{type:"button",onClick:T,className:"text-xs text-blue-500 underline w-16 text-center",disabled:k,children:"인증번호 재요청"}):(0,a.jsx)("span",{className:"text-xs text-gray-500 w-16 text-center",children:(e=>{let t=Math.floor(e/60).toString().padStart(2,"0"),s=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(s)})(I)})]}),(0,a.jsx)("label",{className:"text-sm font-semibold",children:"비밀번호"}),(0,a.jsx)("input",{type:"password",placeholder:"비밀번호를 입력해주세요.",value:o,onChange:e=>u(e.target.value),required:!0,className:"border rounded px-3 py-2",disabled:!s}),(0,a.jsx)("label",{className:"text-sm font-semibold",children:"비밀번호 확인"}),(0,a.jsx)("input",{type:"password",placeholder:"비밀번호를 다시 입력해주세요.",value:m,onChange:e=>x(e.target.value),required:!0,className:"border rounded px-3 py-2",disabled:!s}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:h,onChange:e=>G(e.target.checked),id:"agree-all",className:"w-4 h-4",required:!0}),(0,a.jsx)("label",{htmlFor:"agree-all",className:"text-sm font-semibold text-gray-700",children:"전체 동의"})]}),(0,a.jsxs)("div",{className:"pl-6 flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:f,onChange:e=>b(e.target.checked),id:"agree-terms",className:"w-4 h-4",required:!0}),(0,a.jsx)(c(),{href:"/terms/service",target:"_blank",className:"text-sm text-gray-700 underline hover:text-toss-blue",children:"이용약관 동의(필수)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:p,onChange:e=>y(e.target.checked),id:"agree-privacy",className:"w-4 h-4",required:!0}),(0,a.jsx)(c(),{href:"/terms/privacy",target:"_blank",className:"text-sm text-gray-700 underline hover:text-toss-blue",children:"개인정보이용동의(필수)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:v,onChange:e=>j(e.target.checked),id:"agree-marketing",className:"w-4 h-4"}),(0,a.jsx)(c(),{href:"/terms/marketing",target:"_blank",className:"text-sm text-gray-700 underline hover:text-toss-blue",children:"마케팅정보활용동의(선택)"})]})]})]}),N&&(0,a.jsx)("div",{className:"text-red-500 text-sm text-center",children:N}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-black text-white py-3 rounded font-bold text-lg mt-2 hover:bg-gray-900 transition disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed",disabled:k||!e||!s||!o||o.length<6||o!==m||!f||!p,children:k?"가입 중...":"회원가입"}),(0,a.jsxs)("div",{className:"flex items-center my-4",children:[(0,a.jsx)("div",{className:"flex-1 h-px bg-gray-200"}),(0,a.jsx)("span",{className:"mx-4 text-gray-400 text-sm",children:"SNS 계정으로 로그인/회원가입"}),(0,a.jsx)("div",{className:"flex-1 h-px bg-gray-200"})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-6 mt-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>H("google"),className:"w-12 h-12 rounded-full border flex items-center justify-center bg-white shadow hover:shadow-md",children:(0,a.jsx)(l.default,{src:"/google.svg",alt:"구글",width:28,height:28})}),(0,a.jsx)("button",{type:"button",onClick:()=>H("kakao"),className:"w-12 h-12 rounded-full border flex items-center justify-center bg-yellow-300 shadow hover:shadow-md",children:(0,a.jsx)(l.default,{src:"/kakao.svg",alt:"카카오",width:28,height:28})}),(0,a.jsx)("button",{type:"button",onClick:()=>H("naver"),className:"w-12 h-12 rounded-full border flex items-center justify-center bg-green-400 shadow hover:shadow-md",children:(0,a.jsx)(l.default,{src:"/naver.svg",alt:"네이버",width:28,height:28})})]})]})]})}},4385:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(1469),r=s.n(a)},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}}),s.o(a,"useSelectedLayoutSegments")&&s.d(t,{useSelectedLayoutSegments:function(){return a.useSelectedLayoutSegments}})},5738:(e,t,s)=>{Promise.resolve().then(s.bind(s,1491))}},e=>{var t=t=>e(e.s=t);e.O(0,[493,63,976,441,684,358],()=>t(5738)),_N_E=e.O()}]);