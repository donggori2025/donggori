(()=>{var e={};e.id=884,e.ids=[884],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8017:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(60687),a=s(43210),n=s(30474),l=s(85814),i=s.n(l),o=s(56499),d=s(16189);function c(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),[x,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(!1),[q,C]=(0,a.useState)(!1),[_,P]=(0,a.useState)(""),[E,A]=(0,a.useState)(0),[G,I]=(0,a.useState)(!1),D=(0,a.useRef)(null),{signUp:R,setActive:M}=(0,o.yC)(),U=(0,d.useRouter)(),z=e=>{h(e),f(e),y(e),j(e)},O=()=>{A(180),I(!1),D.current&&clearInterval(D.current),D.current=setInterval(()=>{A(e=>e<=1?(clearInterval(D.current),I(!0),0):e-1)},1e3)},T=async()=>{if(N(""),!e)return void N("이메일을 입력해주세요.");S(!0);try{await R?.create({emailAddress:e,password:c||"TempPassword!1"}),await R?.prepareEmailAddressVerification({strategy:"email_code"}),C(!0),P(""),O()}catch(e){N(e instanceof Error?e.message:"이메일 인증 요청 중 오류가 발생했습니다.")}finally{S(!1)}},V=async()=>{N(""),S(!0);try{await R?.prepareEmailAddressVerification({strategy:"email_code"}),P(""),O()}catch(e){N(e instanceof Error?e.message:"인증번호 재요청 중 오류가 발생했습니다.")}finally{S(!1)}},$=async()=>{N(""),S(!0);try{let e=await R?.attemptEmailAddressVerification({code:_});e?.status==="complete"?(l(!0),N(""),D.current&&clearInterval(D.current)):N("인증 코드가 올바르지 않습니다.")}catch(e){N(e instanceof Error?e.message:"이메일 인증 중 오류가 발생했습니다.")}finally{S(!1)}},F=async t=>{if(t.preventDefault(),N(""),!e)return N("이메일을 입력해주세요.");if(!s)return N("이메일 인증을 완료해주세요.");if(!c)return N("비밀번호를 입력해주세요.");if(c.length<6)return N("비밀번호는 6자 이상이어야 합니다.");if(c!==x)return N("비밀번호가 일치하지 않습니다.");if(!g||!b)return N("필수 약관에 동의해주세요.");S(!0);try{if(!R||!R.createdSessionId){N(""),S(!0),setTimeout(()=>window.location.replace("/"),2500);return}await M({session:R.createdSessionId}),U.push("/")}catch(e){N(e instanceof Error?e.message:"예상치 못한 오류가 발생했습니다. 새로고침 후 다시 시도해주세요.")}finally{S(!1)}},K=e=>{alert(`${e} 소셜 로그인 연동 예정`)};return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[(0,r.jsxs)("div",{className:"mb-8 flex flex-col items-center",children:[(0,r.jsx)(n.default,{src:"/logo_0624.svg",alt:"동고리 로고",width:80,height:80,className:"mb-2"}),(0,r.jsxs)("h1",{className:"text-4xl font-extrabold tracking-tight mb-2",children:["DONG",(0,r.jsx)("span",{className:"text-black",children:"GORI"})]}),(0,r.jsx)("div",{className:"text-lg font-semibold text-gray-700 mb-1",children:"봉제공장이 필요한 순간, 동고리"}),(0,r.jsxs)("div",{className:"text-gray-500 text-sm",children:["아직 회원 아니신가요? ",(0,r.jsx)(i(),{href:"/sign-up",className:"text-blue-500 font-semibold",children:"회원가입"})]})]}),(0,r.jsxs)("form",{onSubmit:F,className:"w-full max-w-md bg-white rounded-xl shadow p-8 flex flex-col gap-4",children:[(0,r.jsx)("div",{id:"clerk-captcha",className:"mb-2"}),(0,r.jsx)("label",{className:"text-sm font-semibold",children:"이메일"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"email",placeholder:"이메일을 입력해주세요.",value:e,onChange:e=>t(e.target.value),required:!0,className:"border rounded px-3 py-2 flex-1",disabled:s}),!s&&!q&&(0,r.jsx)("button",{type:"button",onClick:T,className:"px-4 py-2 bg-gray-200 rounded text-sm font-semibold hover:bg-gray-300",disabled:k,children:"이메일 인증"}),q&&!s&&(0,r.jsx)("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded text-sm font-semibold",disabled:!0,children:"인증코드 발송됨"}),s&&(0,r.jsx)("span",{className:"px-4 py-2 bg-green-100 text-green-700 rounded text-sm font-semibold",children:"인증완료"})]}),q&&!s&&(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)("input",{type:"text",placeholder:"인증코드 입력",value:_,onChange:e=>P(e.target.value),className:"border rounded px-3 py-2 flex-1"}),(0,r.jsx)("button",{type:"button",onClick:$,className:"px-4 py-2 bg-blue-500 text-white rounded text-sm font-semibold hover:bg-blue-600",disabled:k,children:"인증 확인"}),G?(0,r.jsx)("button",{type:"button",onClick:V,className:"text-xs text-blue-500 underline w-16 text-center",disabled:k,children:"인증번호 재요청"}):(0,r.jsx)("span",{className:"text-xs text-gray-500 w-16 text-center",children:(e=>{let t=Math.floor(e/60).toString().padStart(2,"0"),s=(e%60).toString().padStart(2,"0");return`${t}:${s}`})(E)})]}),(0,r.jsx)("label",{className:"text-sm font-semibold",children:"비밀번호"}),(0,r.jsx)("input",{type:"password",placeholder:"비밀번호를 입력해주세요.",value:c,onChange:e=>u(e.target.value),required:!0,className:"border rounded px-3 py-2",disabled:!s}),(0,r.jsx)("label",{className:"text-sm font-semibold",children:"비밀번호 확인"}),(0,r.jsx)("input",{type:"password",placeholder:"비밀번호를 다시 입력해주세요.",value:x,onChange:e=>p(e.target.value),required:!0,className:"border rounded px-3 py-2",disabled:!s}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:m,onChange:e=>z(e.target.checked),id:"agree-all",className:"w-4 h-4",required:!0}),(0,r.jsx)("label",{htmlFor:"agree-all",className:"text-sm font-semibold text-gray-700",children:"전체 동의"})]}),(0,r.jsxs)("div",{className:"pl-6 flex flex-col gap-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:g,onChange:e=>f(e.target.checked),id:"agree-terms",className:"w-4 h-4",required:!0}),(0,r.jsx)(i(),{href:"/terms/service",target:"_blank",className:"text-sm text-gray-700 underline hover:text-toss-blue",children:"이용약관 동의(필수)"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:b,onChange:e=>y(e.target.checked),id:"agree-privacy",className:"w-4 h-4",required:!0}),(0,r.jsx)(i(),{href:"/terms/privacy",target:"_blank",className:"text-sm text-gray-700 underline hover:text-toss-blue",children:"개인정보이용동의(필수)"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:v,onChange:e=>j(e.target.checked),id:"agree-marketing",className:"w-4 h-4"}),(0,r.jsx)(i(),{href:"/terms/marketing",target:"_blank",className:"text-sm text-gray-700 underline hover:text-toss-blue",children:"마케팅정보활용동의(선택)"})]})]})]}),w&&(0,r.jsx)("div",{className:"text-red-500 text-sm text-center",children:w}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-black text-white py-3 rounded font-bold text-lg mt-2 hover:bg-gray-900 transition disabled:bg-gray-200 disabled:text-gray-400 disabled:cursor-not-allowed",disabled:k||!e||!s||!c||c.length<6||c!==x||!g||!b,children:k?"가입 중...":"회원가입"}),(0,r.jsxs)("div",{className:"flex items-center my-4",children:[(0,r.jsx)("div",{className:"flex-1 h-px bg-gray-200"}),(0,r.jsx)("span",{className:"mx-4 text-gray-400 text-sm",children:"SNS 계정으로 로그인/회원가입"}),(0,r.jsx)("div",{className:"flex-1 h-px bg-gray-200"})]}),(0,r.jsxs)("div",{className:"flex justify-center gap-6 mt-2",children:[(0,r.jsx)("button",{type:"button",onClick:()=>K("google"),className:"w-12 h-12 rounded-full border flex items-center justify-center bg-white shadow hover:shadow-md",children:(0,r.jsx)(n.default,{src:"/google.svg",alt:"구글",width:28,height:28})}),(0,r.jsx)("button",{type:"button",onClick:()=>K("kakao"),className:"w-12 h-12 rounded-full border flex items-center justify-center bg-yellow-300 shadow hover:shadow-md",children:(0,r.jsx)(n.default,{src:"/kakao.svg",alt:"카카오",width:28,height:28})}),(0,r.jsx)("button",{type:"button",onClick:()=>K("naver"),className:"w-12 h-12 rounded-full border flex items-center justify-center bg-green-400 shadow hover:shadow-md",children:(0,r.jsx)(n.default,{src:"/naver.svg",alt:"네이버",width:28,height:28})})]})]})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15910:(e,t,s)=>{Promise.resolve().then(s.bind(s,26911))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26911:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jay/Desktop/donggori/app/sign-up/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jay/Desktop/donggori/app/sign-up/page.tsx","default")},27910:e=>{"use strict";e.exports=require("stream")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},46055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},74075:e=>{"use strict";e.exports=require("zlib")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},79551:e=>{"use strict";e.exports=require("url")},80663:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(65239),a=s(48088),n=s(88170),l=s.n(n),i=s(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d={children:["",{children:["sign-up",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,26911)),"/Users/jay/Desktop/donggori/app/sign-up/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/jay/Desktop/donggori/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/jay/Desktop/donggori/app/sign-up/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/sign-up/page",pathname:"/sign-up",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},85646:(e,t,s)=>{Promise.resolve().then(s.bind(s,8017))}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[80,445,658,391],()=>s(80663));module.exports=r})();